{"version":3,"file":"commonHelpers3.js","sources":["../src/js/api-ip.js"],"sourcesContent":["import axios from 'axios';\nconst refs = {\n  formEl: document.querySelector('.js-location-form'),\n  cardEl: document.querySelector('.js-ip-form'),\n};\n\nrefs.formEl.addEventListener('submit', async e => {\n  e.preventDefault();\n  const ip = e.target.elements.userip.value;\n  const data = await getIp(ip);\n  renderIp(data);\n\n});\n\nasync function getIp(userIp) {\n  const baseUrl = 'https://ip-geolocation-ipwhois-io.p.rapidapi.com';\n  const endUrl = '/json/';\n  const url = baseUrl+ endUrl;\n  const params = new URLSearchParams({\n    ip: userIp,\n\n  });\n  const headers = {\n    'x-rapidapi-key':'9b3ff61931msh1b42d77d34e33dap1c29cajsn3d3169e0e2f4',\n    'x-rapidapi-host': 'ip-geolocation-ipwhois-io.p.rapidapi.com',\n  };\n  try {\n    const response = await axios.get(url, { params, headers });\n    return response.data;\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nfunction renderIp({\n  country,\n  ip,\n  city,\n  country_flag,\n  currency,\n  timezone,\n  completed_requests,\n  currency_rates,\n  latitude,\n  longitude,\n}) {\n  const markup = `\n    <div class=\"info-item\">\n      <img\n        class=\"flag\"\n        src=\"${country_flag}\"\n        alt=\"Flag of country\"\n      />\n      <span class=\"info-label\">Country:</span>\n      <span class=\"info-value\">${country}</span>\n    </div>\n    <div class=\"info-item\">\n      <span class=\"info-label\">IP Address: </span>\n      <span class=\"info-value\">${ip}</span>\n    </div>\n    <div class=\"info-item\">\n      <span class=\"info-label\">City: </span> <span class=\"info-value\">${city}</span>\n    </div>\n    <div class=\"info-item\">\n      <span class=\"info-label\">Timezone: </span>\n      <span class=\"info-value\">${timezone}</span>\n    </div>\n    <div class=\"info-item\">\n      <span class=\"info-label\">Currency:</span>\n      <span class=\"info-value\">${currency}</span>\n    </div>\n    <div class=\"info-item\">\n      <span class=\"info-label\">Currency Rate:</span>\n      <span class=\"info-value\">${currency_rates}</span>\n    </div>\n    <div class=\"info-item\">\n      <span class=\"info-label\">Completed Requests:</span>\n      <span class=\"info-value\">${completed_requests}</span>\n    </div>\n    <div class=\"info-item\">\n      <span class=\"info-label\">Google Maps:</span>\n      <a href=\"https://www.google.com.ua/maps/@${latitude},${longitude},13.18z?entry=ttu\"><span class=\"info-value\">Тицяй</span></a>\n    </div>\n  `;\n\n  refs.cardEl.innerHTML = markup;\n}\n"],"names":["refs","e","ip","data","getIp","renderIp","userIp","url","params","headers","axios","error","country","city","country_flag","currency","timezone","completed_requests","currency_rates","latitude","longitude","markup"],"mappings":"oGACA,MAAMA,EAAO,CACX,OAAQ,SAAS,cAAc,mBAAmB,EAClD,OAAQ,SAAS,cAAc,aAAa,CAC9C,EAEAA,EAAK,OAAO,iBAAiB,SAAU,MAAMC,GAAK,CAChDA,EAAE,eAAc,EAChB,MAAMC,EAAKD,EAAE,OAAO,SAAS,OAAO,MAC9BE,EAAO,MAAMC,EAAMF,CAAE,EAC3BG,EAASF,CAAI,CAEf,CAAC,EAED,eAAeC,EAAME,EAAQ,CAG3B,MAAMC,EAFU,mDACD,SAETC,EAAS,IAAI,gBAAgB,CACjC,GAAIF,CAER,CAAG,EACKG,EAAU,CACd,iBAAiB,qDACjB,kBAAmB,0CACvB,EACE,GAAI,CAEF,OADiB,MAAMC,EAAM,IAAIH,EAAK,CAAE,OAAAC,EAAQ,QAAAC,CAAO,CAAE,GACzC,IACjB,OAAQE,EAAO,CACd,QAAQ,IAAIA,CAAK,CAClB,CACH,CAEA,SAASN,EAAS,CAChB,QAAAO,EACA,GAAAV,EACA,KAAAW,EACA,aAAAC,EACA,SAAAC,EACA,SAAAC,EACA,mBAAAC,EACA,eAAAC,EACA,SAAAC,EACA,UAAAC,CACF,EAAG,CACD,MAAMC,EAAS;AAAA;AAAA;AAAA;AAAA,eAIFP,CAAY;AAAA;AAAA;AAAA;AAAA,iCAIMF,CAAO;AAAA;AAAA;AAAA;AAAA,iCAIPV,CAAE;AAAA;AAAA;AAAA,wEAGqCW,CAAI;AAAA;AAAA;AAAA;AAAA,iCAI3CG,CAAQ;AAAA;AAAA;AAAA;AAAA,iCAIRD,CAAQ;AAAA;AAAA;AAAA;AAAA,iCAIRG,CAAc;AAAA;AAAA;AAAA;AAAA,iCAIdD,CAAkB;AAAA;AAAA;AAAA;AAAA,iDAIFE,CAAQ,IAAIC,CAAS;AAAA;AAAA,IAIpEpB,EAAK,OAAO,UAAYqB,CAC1B"}